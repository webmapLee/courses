function asyncGeneratorStep(e,r,t,n,a,o,u){try{var s=e[o](u),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,a)}function _async_to_generator(s){return function(){var e=this,u=arguments;return new Promise(function(r,t){var n=s.apply(e,u);function a(e){asyncGeneratorStep(n,r,t,a,o,"next",e)}function o(e){asyncGeneratorStep(n,r,t,a,o,"throw",e)}a(void 0)})}}function _class_call_check(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _create_class(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}function _ts_generator(n,a){var o,u,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:r(0),throw:r(1),return:r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(t){return function(e){var r=[t,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,u&&(s=2&r[0]?u.return:r[0]?u.throw||((s=u.return)&&s.call(u),0):u.next)&&!(s=s.call(u,r[1])).done)return s;switch(u=0,(r=s?[2&r[0],s.value]:r)[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,u=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(s=0<(s=c.trys).length&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3]))c.label=r[1];else if(6===r[0]&&c.label<s[1])c.label=s[1],s=r;else{if(!(s&&c.label<s[2])){s[2]&&c.ops.pop(),c.trys.pop();continue}c.label=s[2],c.ops.push(r)}}r=a.call(n,c)}catch(e){r=[6,e],u=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}}Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return _default}});var ErrorHandler=(()=>{function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"error",value:function(e,a){var t;e.use((t=_async_to_generator(function(r,t){var n;return _ts_generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,t()];case 1:return e.sent(),404===r.status&&(r.status=404,r.body="404"),[3,3];case 2:return n=e.sent(),a.error(n),r.status=n.status||500,r.body=n.message,[3,3];case 3:return[2]}})}),function(e,r){return t.apply(this,arguments)}))}}]),e})(),_default=ErrorHandler;